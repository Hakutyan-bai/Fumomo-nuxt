import{e as B,g as L,j as $,k as j,l as c,s as x,h,i as E,c as o,a as e,f as V,t as a,u as t,F as y,r as S,m as _,w as v,_ as F,o as s,d as M}from"./B0n-Nv0w.js";import{_ as T}from"./DlAUqK2U.js";const U={class:"flex flex-col items-center min-h-screen articles-page pt-24"},q={class:"bg-white rounded-3xl shadow-lg p-12 max-w-4xl w-full flex flex-col mb-12",style:{"box-shadow":"0 4px 24px rgba(139,90,140,0.08)"}},z={class:"text-primary text-4xl mb-2 text-center font-fumofumo"},N={class:"text-muted text-xl text-center mb-8"},A={class:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl p-4 mb-8 border border-pink-100"},G={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},H={class:"flex items-center gap-2"},J={class:"text-primary text-sm"},K={class:"flex items-center gap-4"},O=["href"],Q={key:0,class:"text-center text-primary py-12 text-lg"},W={key:1,class:"text-center text-red-500 py-12 text-lg"},X={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Y=["href"],Z={class:"text-primary text-xl font-semibold mb-3 leading-snug font-fumofumo"},ee={class:"text-muted text-sm leading-relaxed mb-10 line-clamp-3 overflow-hidden"},te={class:"absolute text-gray-400 text-xs font-normal bottom-4 right-6"},se={key:1,class:"col-span-full text-center text-primary py-12 text-lg"},re={key:0,class:"bg-white rounded-2xl shadow-lg p-6 max-w-4xl w-full mb-12",style:{"box-shadow":"0 4px 24px rgba(139,90,140,0.08)"}},oe={class:"flex justify-center items-center gap-2"},ae={key:1,class:"flex items-center gap-2 bg-gray-50 text-gray-400 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed"},ne={class:"flex items-center gap-2 mx-4"},le={key:0,class:"bg-primary text-white px-3 py-2 rounded-lg text-sm font-medium"},ie={key:3,class:"flex items-center gap-2 bg-gray-50 text-gray-400 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed"},ce={class:"text-center mt-4 text-gray-500 text-sm"},de=B({__name:"articles",setup(ue){L("articles");const D=$(),P=j(),i=c(()=>parseInt(P.query.page||"1")),p=x.articles.postsPerPage,d=h([]),m=h(!0),u=h(null),C=async()=>{try{m.value=!0,u.value=null;const n=await $fetch("/api/rss");if(n.error)throw new Error(n.error);d.value=n.items||[]}catch(n){console.error("RSS获取失败:",n),u.value=n instanceof Error?n.message:"文章加载失败",d.value=[]}finally{m.value=!1}},b=c(()=>d.value.length),g=c(()=>Math.ceil(b.value/p)),k=c(()=>(i.value-1)*p),I=c(()=>k.value+p),w=c(()=>d.value.slice(k.value,I.value)),R=n=>n?new Date(n).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):"未知日期";return E(()=>{C()}),(n,r)=>{const f=F;return s(),o("div",null,[e("main",U,[e("section",q,[e("h1",z,a(t(x).articles.pageTitle),1),e("p",N,a(t(x).articles.pageDescription),1),e("div",A,[e("div",G,[e("div",H,[r[0]||(r[0]=e("span",{class:"text-2xl"},"📖",-1)),e("span",J,a(t(x).articles.sourceDescription),1)]),e("div",K,[r[2]||(r[2]=e("a",{href:"https://blog.sakura.ink",target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-2 bg-primary text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-opacity-90 hover:scale-105 no-underline"},[e("i",{class:"fas fa-external-link-alt"}),e("span",null,"访问博客")],-1)),e("a",{href:t(D),target:"_blank",rel:"noopener noreferrer",class:"flex items-center gap-2 bg-orange-500 text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-orange-600 hover:scale-105 no-underline"},[...r[1]||(r[1]=[e("i",{class:"fas fa-rss"},null,-1),e("span",null,"RSS订阅",-1)])],8,O)])])]),t(m)?(s(),o("div",Q," 加载中... ")):t(u)?(s(),o("div",W,a(t(u)),1)):(s(),o("div",X,[t(w).length>0?(s(!0),o(y,{key:0},S(t(w),l=>(s(),o("article",{key:l.link,class:"bg-gradient-to-br from-gray-50 to-pink-50 rounded-2xl border border-gray-200 transition-all duration-200 hover:-translate-y-1 overflow-hidden hover:shadow-lg"},[e("a",{href:l.link,target:"_blank",rel:"noopener",class:"block p-6 no-underline text-inherit h-full relative"},[e("h3",Z,a(l.title),1),e("p",ee,a(l.description||"暂无简介"),1),e("time",te,a(R(l.pubDate)),1)],8,Y)]))),128)):(s(),o("div",se," 暂无文章 "))]))]),t(g)>1?(s(),o("section",re,[e("div",oe,[t(i)>1?(s(),_(f,{key:0,to:`/articles?page=${t(i)-1}`,class:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-gray-200 hover:scale-105 no-underline"},{default:v(()=>[...r[3]||(r[3]=[e("i",{class:"fas fa-chevron-left"},null,-1),e("span",null,"上一页",-1)])]),_:1},8,["to"])):(s(),o("span",ae,[...r[4]||(r[4]=[e("i",{class:"fas fa-chevron-left"},null,-1),e("span",null,"上一页",-1)])])),e("div",ne,[(s(!0),o(y,null,S(t(g),l=>(s(),o(y,{key:l},[l===t(i)?(s(),o("span",le,a(l),1)):(s(),_(f,{key:1,to:`/articles?page=${l}`,class:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-gray-200 hover:scale-105 no-underline"},{default:v(()=>[M(a(l),1)]),_:2},1032,["to"]))],64))),128))]),t(i)<t(g)?(s(),_(f,{key:2,to:`/articles?page=${t(i)+1}`,class:"flex items-center gap-2 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 hover:bg-gray-200 hover:scale-105 no-underline"},{default:v(()=>[...r[5]||(r[5]=[e("span",null,"下一页",-1),e("i",{class:"fas fa-chevron-right"},null,-1)])]),_:1},8,["to"])):(s(),o("span",ie,[...r[6]||(r[6]=[e("span",null,"下一页",-1),e("i",{class:"fas fa-chevron-right"},null,-1)])]))]),e("div",ce," 第 "+a(t(i))+" 页，共 "+a(t(g))+" 页 · 共 "+a(t(b))+" 篇文章 ",1)])):V("",!0)])])}}}),pe=T(de,[["__scopeId","data-v-1f0ceded"]]);export{pe as default};
